<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<link rel="stylesheet" href="css/desktop.css">
<link rel="stylesheet" href="css/about.css">
<title>About Me </title>
</head>
<body>
</div>
<main class="wrap">
  <section class="hero">
    <div class="now-playing">
      <div class="album"><img src="assets/images/logo.png" alt="logo"></div>
      <div class="np-info">
        <div class="np-title">Khouloud Aouaini — Bridging Insight and Impact</div>
        <div class="np-sub">Data & Marketing Analyst • Paris</div>
        <div class="flex-row">
          <div class="controls">
            <button id="togglePlay" class="btn" aria-pressed="false"><span id="playIcon" class="play-icon"></span><span style="font-size:13px">Play</span></button>
          </div>
          <div class="now-bars">
            <div class="bar" style="height:8px;"></div>
            <div class="bar" style="height:18px;"></div>
            <div class="bar" style="height:12px;"></div>
            <div class="bar" style="height:16px;"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="intro" id="introBox"><div class="typewriter" id="typewriter">Click play for a short intro.</div></div>

    <div class="timeline">
      <div class="flex-row">
        <div style="font-weight:700">Academic and Professional Experience </div>
        <div class="muted">Hover items to expand</div>
      </div>
      <div class="timeline-strip" id="timelineStrip" tabindex="0" role="list"></div>
    </div>

    <div class="certs">
      <div class="certs-head"><div style="font-weight:700">My Certificates</div></div>
      <div class="cert-slider">
        <button class="arrow left" id="prevCert" aria-label="Previous certificate">‹</button>
        <div class="cert-frame" id="certFrame">
          <div class="cert-inner">
            <img src="assets/images/certif1.png" class="active" alt="Certificate 1">
            <img src="assets/images/certif2.png" alt="Certificate 2">
            <img src="assets/images/certif3.png" alt="Certificate 3">
          </div>
        </div>
        <button class="arrow right" id="nextCert" aria-label="Next certificate">›</button>
      </div>
    </div>

  <h2>Interests</h2>
    <div class="interests">
      <div class="polaroid" style="--angle:-3deg"><img src="assets/images/hobby1.png" alt=""><div class="caption">Café hopping in Paris</div></div>
      <div class="polaroid" style="--angle:2deg"><img src="assets/images/hobby2.png" alt=""><div class="caption">Catching up with the NBA</div></div>
      <div class="polaroid" style="--angle:-5deg"><img src="assets/images/hobby3.png" alt=""><div class="caption">Bookworm energy</div></div>
      <div class="polaroid" style="--angle:4deg"><img src="assets/images/hobby4.png" alt=""><div class="caption">Knitting & Crocheting</div></div>
    </div>
  </section>
</main>

<script>

  const milestones = [
    {date: '2017–2021', title: 'Bachelor — TBS', detail: 'Graduated Cum Laude in Business Analytics & Marketing. Discovered my love for data and storytelling through numbers.'},
    {date: '2020–2022', title: 'Marketing Analyst — Third Design', detail: 'Ran market research, segmented audiences, and worked closely with 3D artists to improve the platform.'},
    {date: '2022', title: 'Analyst — Matine Consulting', detail: 'Supported a project with the Ministry of Agriculture by analyzing global university data and engaging 30+ companies.'},
    {date: '2022–2024', title: 'Master’s — Efrei Paris', detail: 'Focused on Data Management, Marketing, and AI. Sharpened my technical toolkit — Python, SQL, Tableau.'},
    {date: '2023–2024', title: 'Junior Project Manager — Renault Group', detail: 'Built Tableau dashboards and optimized CRM loyalty reporting across 20+ countries.'},
    {date: '2025', title: 'Freelance + Projects', detail: 'Bridging analytics and creativity to craft data-driven social media strategies.'},

  ];

  const $ = s => document.querySelector(s);
  const $$ = s => Array.from(document.querySelectorAll(s));

  // Typewriter
  const typeEl = $('#typewriter');
  const playBtn = $('#togglePlay');
  let playing = false;
  const introText = [
    "Hey — I’m Khouloud.",
    "Half analyst, half storyteller.",
    "I make sense of data so ideas can shine.",
  ].join(' \n\n');

  function typeWriter(text, el, speed=24){
    el.textContent = '';
    let i=0;
    const id = setInterval(()=> { el.textContent += text[i++] || ''; if(i >= text.length) clearInterval(id); }, speed);
  }

  playBtn.addEventListener('click', () => {
    playing = !playing;
    playBtn.setAttribute('aria-pressed', playing ? 'true' : 'false');
    playBtn.querySelector('span:nth-child(2)').textContent = playing ? 'Pause' : 'Play';
    const icon = $('#playIcon');
    if(playing){ icon.className='pause-icon'; typeWriter(introText, typeEl, 20); } 
    else { icon.className='play-icon'; typeEl.textContent='Paused. Click play to continue.'; }
  });



  // Timeline
  const timelineStrip = $('#timelineStrip');
  milestones.forEach((m)=>{
    const el=document.createElement('div');
    el.className='mile';
    el.setAttribute('role','listitem');
    el.innerHTML=`<div class="meta">${m.date}</div><div class="title">${m.title}</div><div class="detail">${m.detail}</div>`;
    timelineStrip.appendChild(el);
    el.addEventListener('mouseenter', ()=>{
      $$(' .mile').forEach(x=>x.classList.remove('active'));
      el.classList.add('active');
      el.scrollIntoView({behavior:'smooth', inline:'center',block: 'nearest' });
    });
  });

  // Drag-scroll timeline
  (function enableDragScroll(container){
    let down=false, startX, scrollLeft;
    container.addEventListener('pointerdown', (e)=>{ down=true; startX=e.clientX; scrollLeft=container.scrollLeft; container.setPointerCapture(e.pointerId); });
    container.addEventListener('pointermove', (e)=>{ if(!down) return; container.scrollLeft=scrollLeft-(e.clientX-startX); });
    ['pointerup','pointercancel','pointerleave'].forEach(evt=>container.addEventListener(evt, ()=>down=false));
  })(timelineStrip);

  // Bars animation
  const bars = Array.from(document.querySelectorAll('.bar'));
  bars.forEach(b=>{
    const t = 600 + Math.round(Math.random()*900);
    b.style.animation = `bounce ${t}ms ${Math.random()*300}ms infinite ease-in-out`;
  });
  const style = document.createElement('style');
  style.textContent=`@keyframes bounce {0%{transform:scaleY(.25); opacity:.6}50%{transform:scaleY(1); opacity:1}100%{transform:scaleY(.25); opacity:.6}}`;
  document.head.appendChild(style);

  // Certificates slider
const frame = document.querySelector('.cert-frame');
const images = Array.from(frame.querySelectorAll('img'));
let current = 0;

function scrollToImage(index) {
  frame.scrollTo({
    left: index * frame.clientWidth,
    behavior: 'smooth'
  });
  images.forEach((im, i) => im.classList.toggle('active', i === index));
}

document.getElementById('prevCert').addEventListener('click', () => {
  current = Math.max(0, current - 1);
  scrollToImage(current);
});

document.getElementById('nextCert').addEventListener('click', () => {
  current = Math.min(images.length - 1, current + 1);
  scrollToImage(current);
});



document.addEventListener("DOMContentLoaded", () => {
  if (window.self === window.top) { // only if not in iframe
    const header = document.createElement("div");
    header.className = "window-header";
    header.innerHTML = `
      <div class="window-buttons">
        <span class="close" title="Close"></span>
        <span class="minimize" title="Minimize"></span>
        <span class="maximize" title="Open project"></span>
      </div>
      <div class="safari-url-bar">${document.title}</div>
    `;
    document.body.prepend(header);
  }

});
document.addEventListener("DOMContentLoaded", () => {
  // Select both close and maximize buttons
  const buttons = document.querySelectorAll(".window-header .close, .window-header .maximize");

  buttons.forEach(button => {
    button.addEventListener("click", () => {
      if (window.self !== window.top) {
        // Inside an iframe: tell parent to hide this project window
        window.parent.postMessage({ type: "closeProject", projectId: document.title }, "*");
      } else {
        // Standalone: maybe just go back to some index or hide body
        window.location.href = "/"; // or your main desktop
      }
    });
  });
});

</script>
</body>
</html>
